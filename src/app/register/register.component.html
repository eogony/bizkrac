<ng-container class="body">
  <div class="main">

    <section class="signup">
         <!--<img src="images/signup-bg.jpg" alt="">--> 
        <div class="container">
            <div class="signup-content">
                <form autocomplete="off" method="POST" id="signup-form" class="signup-form" [formGroup]="messageForm" (ngSubmit)="signUp()">
                    <h2 class="form-title">Create account</h2>
                    <div class="form-group">
                        <input formControlName="name" type="text" class="form-input" name="name" id="name" placeholder="Your Name"/>
                        <div *ngIf="name.touched && name.errors">
                          <div *ngIf="name.hasError('required')" class="alert alert-danger">
                            The name is required
                          </div>
                        </div>
                    </div>
                    <div class="form-group">
                      <input formControlName="username" type="text" class="form-input" name="username" id="username" placeholder="Your Username"/>
                      <div *ngIf="username.pending">
                        Hold tight...Checking availability of {{ username.value }}
                      </div>
                      <div *ngIf="username.invalid && username.touched">
                        <div *ngIf="username.hasError('required')" class="alert alert-danger">
                          The username is required
                        </div>
                      </div>
                      <div *ngIf="username.errors">
                        <div *ngIf="username.hasError('minlength')" class="alert alert-danger">
                          The username should be minimum {{ username.errors.minlength.requiredLength }} characters
                        </div>
                      </div>
                      <div *ngIf="username.errors">
                          <div *ngIf="username.hasError('nospace')" class="alert alert-danger">
                              The username cannot contain space
                          </div>
                      </div>  
                      <div *ngIf="username.errors">
                          <div *ngIf="username.errors.existingUser" class="alert alert-danger">
                            The username is already existing
                          </div>
                      </div>
                    </div>
                    <div class="form-group">
                        <input formControlName="email" type="email" class="form-input" name="email" id="email" placeholder="Your Email"/>
                        <div *ngIf="email.touched && email.errors">
                          <div *ngIf="email.errors.required" class="alert alert-danger" >
                            The email is required
                          </div>
                        </div>
                        <div *ngIf="email.errors">
                          <div *ngIf="email.hasError('email') || email.hasError('pattern')" class="alert alert-danger">
                            The email is not valid
                          </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input formControlName="password" type="password" class="form-input" name="password" id="password" placeholder="Password"/>
                        <span toggle="#password" class="zmdi zmdi-eye field-icon toggle-password"></span>
                        <div *ngIf="password.invalid && password.touched">
                          <div *ngIf="password.hasError('required')" class="alert alert-danger">
                            The password is required
                          </div>
                        </div>
                        <div *ngIf="password.errors">
                          <div *ngIf="password.hasError('maxlength')" class="alert alert-danger">
                            The password should be maximum {{ password.errors.maxlength.requiredLength }} characters
                          </div>
                        </div>
                        <div *ngIf="password.errors">
                          <div *ngIf="password.hasError('pattern')" class="alert alert-danger">
                            The password should match pattern
                          </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input formControlName="re_password" type="password" class="form-input" name="re_password" id="re_password" placeholder="Repeat your password"/>
                        <div *ngIf="messageForm.hasError('notSame')" class="alert alert-danger">
                           Passwords do not match.
                        </div>
                    </div>
                    <div class="form-group">
                        <input formControlName="agree_term" type="checkbox" name="agree_term" id="agree_term" class="agree_term"/>
                        <label for="agree-term" class="label-agree-term"><span><span></span></span>I agree to all statements in  <a href="#" class="term-service">Terms of service</a></label>
                        <div class="invalidfeedback" *ngIf="submitted && agree_term.errors">
                          <div *ngIf="agree_term.invalid">
                            You must first agree to terms of service before proceeding
                          </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="submit" name="submit" id="submit" class="form-submit" value="Sign up" [disabled]="!messageForm.valid"/>
                    </div>
                </form>
                <p class="loginhere">
                    Have already an account ? <a routerLink="/login" class="loginhere-link">Login here</a>
                </p>
            </div>
        </div>
    </section>

</div>
</ng-container>
